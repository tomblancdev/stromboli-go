// Code generated by go-swagger; DO NOT EDIT.

package models

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"context"

	"github.com/go-openapi/errors"
	"github.com/go-openapi/strfmt"
	"github.com/go-openapi/swag"
	"github.com/go-openapi/validate"
)

// RunRequest Request to execute Claude Code in an isolated container
//
// swagger:model RunRequest
type RunRequest struct {

	// Claude configuration - all CLI options exposed
	Claude StromboliInternalTypesClaudeOptions `json:"claude,omitempty"`

	// Podman configuration
	Podman StromboliInternalTypesPodmanOptions `json:"podman,omitempty"`

	// Required: the prompt to send to Claude
	// Example: Analyze this code and suggest improvements
	// Required: true
	Prompt *string `json:"prompt"`

	// Webhook URL to notify when job completes (async only)
	// Example: https://example.com/webhook
	WebhookURL string `json:"webhook_url,omitempty"`

	// Working directory inside the container where Claude will spawn
	// Use podman.volumes to mount host paths into the container
	// Example: /workspace
	Workdir string `json:"workdir,omitempty"`
}

// Validate validates this run request
func (m *RunRequest) Validate(formats strfmt.Registry) error {
	var res []error

	if err := m.validateClaude(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validatePodman(formats); err != nil {
		res = append(res, err)
	}

	if err := m.validatePrompt(formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *RunRequest) validateClaude(formats strfmt.Registry) error {
	if swag.IsZero(m.Claude) { // not required
		return nil
	}

	return nil
}

func (m *RunRequest) validatePodman(formats strfmt.Registry) error {
	if swag.IsZero(m.Podman) { // not required
		return nil
	}

	return nil
}

func (m *RunRequest) validatePrompt(formats strfmt.Registry) error {

	if err := validate.Required("prompt", "body", m.Prompt); err != nil {
		return err
	}

	return nil
}

// ContextValidate validate this run request based on the context it is used
func (m *RunRequest) ContextValidate(ctx context.Context, formats strfmt.Registry) error {
	var res []error

	if err := m.contextValidateClaude(ctx, formats); err != nil {
		res = append(res, err)
	}

	if err := m.contextValidatePodman(ctx, formats); err != nil {
		res = append(res, err)
	}

	if len(res) > 0 {
		return errors.CompositeValidationError(res...)
	}
	return nil
}

func (m *RunRequest) contextValidateClaude(ctx context.Context, formats strfmt.Registry) error {

	return nil
}

func (m *RunRequest) contextValidatePodman(ctx context.Context, formats strfmt.Registry) error {

	return nil
}

// MarshalBinary interface implementation
func (m *RunRequest) MarshalBinary() ([]byte, error) {
	if m == nil {
		return nil, nil
	}
	return swag.WriteJSON(m)
}

// UnmarshalBinary interface implementation
func (m *RunRequest) UnmarshalBinary(b []byte) error {
	var res RunRequest
	if err := swag.ReadJSON(b, &res); err != nil {
		return err
	}
	*m = res
	return nil
}
